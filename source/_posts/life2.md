---
title: 周末培训（二）
date: 2020-08-16 22:00:00
categories:
- 生活
tags:
- study
---

2020年8月16号周日，公司组织第二次培训
<!-- more -->

## 第二次培训

### 考试题

1. 写出如下代码的结果，同时说明理由。
	```
	String a = "abc";
	String b = "abc";
	System.out.println(a==b);
	```


2. 如何定义一个不可变类？

3. StringBuilder 和 StringBuffer 有什么区别？它们各自适用于哪些场合？

4. hashcode方法在哪些场景里需要重写？

5. 抽象类和接口有什么区别？它们各自适用于哪些场合？

6. 简述 Hash 表为什么能比较高效地定位到元素。

7. Java里的HashMap是怎么处理Hash定位冲突的？

8. 根据场景回答问题。
   **第一步**，我们定义一个 Car 类，其中只有一个 int 类型的 id 属性。
   **第二步**，创建一个 Car 类的实例，假设是 C，设置它的 id 是 1。
   **第三步**，我们通过 new 关键字创建两个不同的 ArrayList，分别是 a1 和 a2，并把第二步里创建的c对象分别放入 a1 和 a2。
   **第四步**，我们在 a1 这个 ArrayList 里，拿出 c 对象，并把它的 id 设置成 2，同时不对存放在 a2 里的 c 对象做任何修改。
   完成上述四步后，a2 里存放的 c 对象的 id 是多少？
   同时说明理由。

9. 说明 Java 虚拟机为什么能实现跨平台。

10. 软引用和弱引用有什么差别？写出软引用和弱引用的一个适用场景。

11. finalize 和 final 关键字各有什么作用？

12. 写出至少3种优化 Java 内存性能的编码规范。

---

### 参考解答

2. 要创建不可变类，要实现下面几个步骤 ： [链接](https://www.cnblogs.com/acode/articles/7090429.html)
   1. 将类声明为 final，所以它不能被继承
   2. 将所有的成员声明为私有的，这样就不允许直接访问这些成员
   3. 对变量不要提供 setter 方法
   4. 将所有可变的成员声明为 final，这样只能对它们赋值一次
   5. 通过构造器初始化所有成员，进行深拷贝(deep copy)
   6. 在 getter 方法中，不要直接返回对象本身，而是克隆对象，并返回对象的拷贝

3. StringBuilder ： 线程不安全
   StringBuffer ： 线程安全

4. 在HashMap的“键”部分存放自定义对象的时候，一定要在这个对象里用自己的equals和hashCode方法来覆盖Object里的同名方法。

6. 在Hash表里，存放在其中的数据和它的存储位置是用Hash函数关联的

   ![Hash表里存储数据的示意图](https://s1.ax1x.com/2020/08/18/duj6ns.png "Hash表里存储数据的示意图")
   这样做的好处非常明显。比如我们要从中找6这个元素，我们可以先通过Hash函数计算6的索引位置，然后直接从1号索引里找到它了。

7. 假如经过Hash函数计算后，7和8有相同的Hash值，会遇到“Hash值冲突”这个问题，对此Java的HashMap对象采用的是“链地址法”的解决方案。
   ![Hash表用链地址法解决冲突的示意图](https://s1.ax1x.com/2020/08/18/dujsXj.png "Hash表用链地址法解决冲突的示意图")

